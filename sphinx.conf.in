#
# sphinx configuration file sample
#

[common]

# this is path and index file name without extension
# files <indexpath>.spi/spd/spr will be created by indexer
#
# .spr is temporary raw log, it can be removed when indexer is done
# .spi/.spd are fulltext index files (index index and index data)
#
# MUST be defined
index_path			= /home/sphinx/data/testdb

# morphology
# default is not to use any
#
# morphology		= stem_en
# morphology		= stem_ru
# morphology		= stem_enru

[indexer]

# data source type
# for now, known types are 'mysql' and 'xmlpipe'
# MUST be defined
type				= mysql

# some straightforward parameters for 'mysql' source type
sql_host			= localhost
sql_user			= root
sql_pass			= 
sql_db				= testdb

# pre-query, executed before the main fetch query
# useful eg. to setup encoding or mark records
# optional, default is empty
#
# sql_query_pre		= SET CHARACTER_SET_RESULTS=cp1251
sql_query_pre		=

# main document fetch query
# you can specify any number of fields
#
# document_id MUST be the very first field
# document_id MUST be positive (non-zero, non-negative)
#
# mandatory
sql_query			= \
	SELECT doc.id, doc.id AS group, doc.title, doc.data \
	FROM documents doc
sql_sock			= /tmp/mysql.sock

# group_id column name or number
# group_id id MUST be positive (non-zero, non-negative)
#
# columns are numbered starting from 1, ie. document_id is 1, next one is 2, etc
# if group_id column is specified, it's removed from fulltext indexed fields,
# therefore changing the field numbering
#
# optional, default is empty
sql_group_column	= 2

# post-query, executed after the main fetch query
# useful eg. to unmark records
# optional, default is empty
sql_query_post		=

# mysql port
# optional, default is 3306
sql_port			= 3306

# stopwords file
# format is plain cp-1251 (or koi-8, depending on what you use) text
# optional, default is empty
#
# stopwords			= /home/sphinx/data/stopwords.txt
stopwords			=

#############################################################################

# demo config for 'xmlpipe' source type is a little below
# with xmlpipe, sphinx opens a pipe to a given command, and reads documents from stdin
#
# sphinx expects one or more documents from xmlpipe stdin
# each document must be formatted as follows:
#
# <document>
# <id>123</id>
# <group>1</group>
# <title>test title</title>
# <body>
# this is my document body
# </body>
# </document>

# type				= xmlpipe
# xmlpipe_command	= cat /home/sphinx/test.xml

[searchd]

# port on which search daemon will listen
port				= 3312

# log file
# searchd run info is logged here
log					= /home/sphinx/logs/searchd.log

# query log file
# all the search queries are logged here
query_log			= /home/sphinx/logs/query.log

# client read timeout, seconds
read_timeout		= 5

# maximum amount of children to fork
# useful to control server load
max_children		= 30

# --eof--
